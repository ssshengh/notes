# 简介

> 官方文档：https://airbnb.io/mavericks/

MvRx（发音为mavericks）是Airbnb的Android框架，现在几乎用于Airbnb上所有产品的开发。MvRx被称为Android界的Autopilot，它提供了一个完全原生的框架，实现了更纯粹的UI响应式，使得开发者能够以更简易的方式进行开发工作。根据作者的说法，该框架可以减少**50%到75%**代码。

MvRx建立在以下现有技术和概念之上：

- Kotlin
- Android Architecture Components
- RxJava
- React (概念)
- Epoxy (可选，推荐)

React 思想，也即 MVI 架构 + FP 风格编程，是 MvRx 立足的根本，同时 MvRx 还汲取了 Kotlin、AAC（Android Architecture Components）等技术的思考，构建了一套具有优秀语法特性的声明式框架。

在这里可能会问到，一个架构思想为什么会和语言相关？

这是因为 MvRx 这种声明式框架依赖于 FP 的思想，而 Java 的 FP 是残废的；此外，Kotlin 作为目前安卓的第一推荐语言，有着 JB 以及 Google 背书；最后就是，Kotlin 本身语法极为现代，语法糖多。

此外，还有个名词是：AAC（Android Architecture Components），也叫 Android 架构组件，顾名思义，它不是一套拥有完整体系的安卓架构，而是用来解决 Android 架构设计问题的一套**组件库**。AAC 主要包含两大部分：

1. 生命周期感知型组件（Lifecycle-aware Components）：包含了LiveData、ViewModel及生命周期管理（LifecycleOwner和LifecycleObserver等）。
2. Room：数据库解决方案，提供了更健全、更便捷的数据库访问机制。

AAC解决了数据对生命周期的感知、Activity 生命周期变化场景下的数据处理、Fragment 之间共享数据方案等问题。

基于此，我们可以这样来说 MvRx：其是一套**Android 开发框架**，它**借鉴了React的思想**，主要负责数据层的生命周期控制，且**结合了 AAC 的 LiveData 和 ViewModel 等生命周期感知型组件**，Android Fragment UI 或 Jetpack Compose 风格 View 层，最终提供了一套完整的解决方案。

MvRx也继承了以上这些优势，同时还解决了AAC没有解决的一些痛点：

1. 异步访问网络和数据库的回调处理封装
2. 在ViewModel中将复杂计算等逻辑自动切换子线程处理
3. 数据约束（不可变性）
4. 多个数据源组合监听（AAC借助 MediatorLiveData 可以实现，但繁琐）（所有数据——State&View——React）
5. 数据状态变化日志，提供debug和分析能力

## 基础使用

### 定义 ViewModel


